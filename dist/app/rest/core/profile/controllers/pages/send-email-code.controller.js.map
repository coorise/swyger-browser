{"version":3,"file":"send-email-code.controller.js","sources":["../../../../../../../src/app/rest/core/profile/controllers/pages/send-email-code.controller.js"],"sourcesContent":["const SendEmailCode = (userModel, authService) =>{\r\n    return {\r\n        title: 'Forgot Password | Aminuty',\r\n        user: userModel,\r\n        auth: authService,\r\n        res:'',\r\n\r\n        error:{\r\n            email:'',\r\n        },\r\n        sendEmail(){\r\n            //e.preventDefault(); // Otherwise the form will be submitted\r\n\r\n            if(!this.user.email){\r\n                //console.log('email is empty');\r\n                this.error.email= '(email is empty)';\r\n            }else{\r\n                this.error.email= '';\r\n            }\r\n            if(!this.user.email.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/)){\r\n                //console.log('give us a valid email address');\r\n                this.error.email= '(Please give us valid email address)';\r\n            }else{\r\n                this.error.email= '';\r\n            }\r\n\r\n\r\n            if(this.user.email.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/)\r\n            ){\r\n                //console.log('All Fields are completed');\r\n                let mUser ={\r\n                    email:this.user.email\r\n                }\r\n                this.res=this.auth.sendResetPasswordEmail(mUser)\r\n\r\n                if(this.res.code === 404){\r\n                    /*console.log('Error Code From AuthController')\r\n                    console.log(this.res.code)\r\n                    console.log('Error Message From AuthController')\r\n                    console.log(this.res.message)*/\r\n                    this.error.email= '(No users found with this email)';\r\n                }else {\r\n                    /*console.log('The response sendForgot Pass from Auth: ')\r\n                    console.log(this.res.res)*/\r\n                    let email=this.res.res.user.email\r\n                    localStorage.setItem('email',email);\r\n                    //Route('auth','reset-password')\r\n                }\r\n\r\n            }\r\n        },\r\n    }\r\n}\r\nexport default SendEmailCode\r\n"],"names":["SendEmailCode","userModel","authService","mUser","email"],"mappings":"AAAK,MAACA,EAAgB,CAACC,EAAWC,KACvB,CACH,MAAO,4BACP,KAAMD,EACN,KAAMC,EACN,IAAI,GAEJ,MAAM,CACF,MAAM,EACT,EACD,WAAW,CAiBP,GAdI,KAAK,KAAK,MAIV,KAAK,MAAM,MAAO,GAFlB,KAAK,MAAM,MAAO,mBAIlB,KAAK,KAAK,MAAM,MAAM,sEAAsE,EAI5F,KAAK,MAAM,MAAO,GAFlB,KAAK,MAAM,MAAO,uCAMnB,KAAK,KAAK,MAAM,MAAM,sEAAsE,EAC9F,CAEG,IAAIC,EAAO,CACP,MAAM,KAAK,KAAK,KACnB,EAGD,GAFA,KAAK,IAAI,KAAK,KAAK,uBAAuBA,CAAK,EAE5C,KAAK,IAAI,OAAS,IAKjB,KAAK,MAAM,MAAO,uCAChB,CAGF,IAAIC,EAAM,KAAK,IAAI,IAAI,KAAK,MAC5B,aAAa,QAAQ,QAAQA,CAAK,CAErC,CAEJ,CACJ,CACJ"}