var h=(a,i,s)=>new Promise((r,t)=>{var m=e=>{try{o(s.next(e))}catch(l){t(l)}},n=e=>{try{o(s.throw(e))}catch(l){t(l)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(m,n);o((s=s.apply(a,i)).next())});const g=a=>h(void 0,null,function*(){const{req:i,controller:s}=a;i.$router;const r=s.client;let t={title:"Forgot Password | Aminuty",meta:[{name:"child value",content:"child content value"}]};const m={index:"pages/forgot-password.html"};let n={res:"",error:{email:""},forgotPassword(){var o,e;if(this.user.email?this.error.email="":(console.log("email is empty"),this.error.email="(email is empty)"),this.user.email.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?this.error.email="":(console.log("give us a valid email address"),this.error.email="(Please give us valid email address)"),this.user.email.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)){console.log("All Fields are completed");let l={email:this.user.email};if(this.res=(e=(o=r==null?void 0:r.auth)==null?void 0:o.auth())==null?void 0:e.sendResetPasswordEmail(l).val(),this.res.code===404)console.log("Error Code From AuthController"),console.log(this.res.code),console.log("Error Message From AuthController"),console.log(this.res.message),this.error.email="(No users found with this email)";else{console.log("The response sendForgot Pass from Auth: "),console.log(this.res.res);let c=this.res.res.user.email;localStorage.setItem("email",c)}}}};yield s.render({data:n,meta:t,views:m})});export{g as default};
//# sourceMappingURL=forgot-password.controller.js.map
