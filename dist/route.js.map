{"version":3,"file":"route.js","sources":["../src/route.js"],"sourcesContent":["//visit: https://github.com/zcoding/spa-router\r\nimport Router from \"./resources/vendors/spa-router-better/es/spa-router.js\";\r\nimport IndexModule from \"./app/rest/index.js\";\r\nimport {ServerConfig} from \"./app/config/index.js\";\r\nimport SwygerClient from '@swyger/client';\r\n\r\n//console.log('ListModule')\r\n//console.log(ApiModule)\r\nlet routes = Object.assign(\r\n    {\r\n        '/': {\r\n            redirect: {\r\n                name: 'home'\r\n            }\r\n        },\r\n\r\n        '*': {\r\n            redirect: {\r\n                name: 'home'\r\n            }\r\n        },\r\n    },\r\n    IndexModule\r\n\r\n)\r\nlet client=SwygerClient.init(ServerConfig)\r\nlet adminRouter = new Router(routes,\r\n    {\r\n        //mode: 'history',\r\n        //mode: 'hashbang',\r\n        mode: 'history',\r\n        root:'/',\r\n       //notFound:function(){}  //global notfound function\r\n        beforeEachEnter: function (req) {\r\n          //you can set/get a variable like in express js\r\n          // req.your_variable\r\n          if(!req?.client && typeof req.client !='object')\r\n          req.client=client\r\n        },\r\n        beforeEachLeave: function (req) {\r\n            //console.log('uri: ' + req.uri);\r\n        }\r\n    }\r\n\r\n);\r\n//you can set listener four a custom route\r\nadminRouter.on('/',function (req) {\r\n\r\n})\r\n//you can remove path\r\n//adminRouter.off('path')\r\n\r\n//you can add a custom route to merge with existing route\r\n/*adminRouter.mount('/admin',\r\n    {\r\n        name:'admin',\r\n        controllers:[],\r\n        sub:{\r\n            '/product': {\r\n                forward: true,\r\n                sub: {\r\n                    '/': {\r\n                        //controllers: [ function(req) {console.log('forward'+ req.params);}]\r\n                    },\r\n                }\r\n            },\r\n        }\r\n\r\n    }\r\n);*/\r\n\r\nexport default adminRouter\r\n"],"names":["routes","IndexModule","client","SwygerClient","ServerConfig","adminRouter","Router","req"],"mappings":"ujiBAQA,IAAIA,EAAS,OAAO,OAChB,CACI,IAAK,CACD,SAAU,CACN,KAAM,MACT,CACJ,EAED,IAAK,CACD,SAAU,CACN,KAAM,MACT,CACJ,CACJ,EACDC,CAEJ,EACIC,EAAOC,EAAa,KAAKC,CAAY,EACrCC,EAAc,IAAIC,EAAON,EACzB,CAGI,KAAM,UACN,KAAK,IAEL,gBAAiB,SAAUO,EAAK,CAG3B,EAACA,GAAA,MAAAA,EAAK,SAAU,OAAOA,EAAI,QAAS,WACvCA,EAAI,OAAOL,EACZ,EACD,gBAAiB,SAAUK,EAAK,CAE/B,CACJ,CAEL,EAEAF,EAAY,GAAG,IAAI,SAAUE,EAAK,CAElC,CAAC"}